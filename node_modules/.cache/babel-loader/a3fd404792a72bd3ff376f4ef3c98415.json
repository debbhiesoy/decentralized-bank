{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar XMLHttpRequestEventTarget =\n/** @class */\nfunction () {\n  function XMLHttpRequestEventTarget() {\n    this.listeners = {};\n  }\n\n  XMLHttpRequestEventTarget.prototype.addEventListener = function (eventType, listener) {\n    eventType = eventType.toLowerCase();\n    this.listeners[eventType] = this.listeners[eventType] || [];\n    this.listeners[eventType].push(listener.handleEvent || listener);\n  };\n\n  XMLHttpRequestEventTarget.prototype.removeEventListener = function (eventType, listener) {\n    eventType = eventType.toLowerCase();\n\n    if (!this.listeners[eventType]) {\n      return;\n    }\n\n    var index = this.listeners[eventType].indexOf(listener.handleEvent || listener);\n\n    if (index < 0) {\n      return;\n    }\n\n    this.listeners[eventType].splice(index, 1);\n  };\n\n  XMLHttpRequestEventTarget.prototype.dispatchEvent = function (event) {\n    var eventType = event.type.toLowerCase();\n    event.target = this; // TODO: set event.currentTarget?\n\n    if (this.listeners[eventType]) {\n      for (var _i = 0, _a = this.listeners[eventType]; _i < _a.length; _i++) {\n        var listener_1 = _a[_i];\n        listener_1.call(this, event);\n      }\n    }\n\n    var listener = this[\"on\" + eventType];\n\n    if (listener) {\n      listener.call(this, event);\n    }\n\n    return true;\n  };\n\n  return XMLHttpRequestEventTarget;\n}();\n\nexports.XMLHttpRequestEventTarget = XMLHttpRequestEventTarget;","map":{"version":3,"mappings":";;;;;;AAMA;AAAA;AAAA;AAAA;AASS,qBAA4D,EAA5D;AAiCR;;AA/BAA,mEAAiBC,SAAjB,EAAoCC,QAApC,EAAyF;AACxFD,aAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;AACA,SAAKC,SAAL,CAAeH,SAAf,IAA4B,KAAKG,SAAL,CAAeH,SAAf,KAA6B,EAAzD;AACA,SAAKG,SAAL,CAAeH,SAAf,EAA0BI,IAA1B,CAAgCH,QAAwC,CAACI,WAAzC,IAAyDJ,QAAzF;AACA,GAJD;;AAKAF,sEAAoBC,SAApB,EAAuCC,QAAvC,EAA4F;AAC3FD,aAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;;AACA,QAAI,CAAC,KAAKC,SAAL,CAAeH,SAAf,CAAL,EAAgC;AAAE;AAAS;;AAE3C,QAAMM,KAAK,GAAG,KAAKH,SAAL,CAAeH,SAAf,EAA0BO,OAA1B,CAAmCN,QAAwC,CAACI,WAAzC,IAAyDJ,QAA5F,CAAd;;AACA,QAAIK,KAAK,GAAG,CAAZ,EAAe;AAAE;AAAS;;AAE1B,SAAKH,SAAL,CAAeH,SAAf,EAA0BQ,MAA1B,CAAiCF,KAAjC,EAAwC,CAAxC;AACA,GARD;;AASAP,gEAAcU,KAAd,EAAkC;AACjC,QAAMT,SAAS,GAAGS,KAAK,CAACC,IAAN,CAAWR,WAAX,EAAlB;AACAO,SAAK,CAACE,MAAN,GAAe,IAAf,CAFiC,CAEZ;;AAErB,QAAI,KAAKR,SAAL,CAAeH,SAAf,CAAJ,EAA+B;AAC9B,WAAqB,sBAAKG,SAAL,CAAeH,SAAf,CAArB,EAAqBY,cAArB,EAAqBA,IAArB,EAA8C;AAAzC,YAAIC,UAAQ,SAAZ;AACJA,kBAAQ,CAACC,IAAT,CAAc,IAAd,EAAoBL,KAApB;AACA;AACD;;AAED,QAAMR,QAAQ,GAAG,KAAK,OAAKD,SAAV,CAAjB;;AACA,QAAIC,QAAJ,EAAc;AACbA,cAAQ,CAACa,IAAT,CAAc,IAAd,EAAoBL,KAApB;AACA;;AAED,WAAO,IAAP;AACA,GAhBD;;AAiBD;AAAC,CA1CD;;AAAaM","names":["XMLHttpRequestEventTarget","eventType","listener","toLowerCase","listeners","push","handleEvent","index","indexOf","splice","event","type","target","_i","listener_1","call","exports"],"sourceRoot":"","sources":["../xml-http-request-event-target.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}