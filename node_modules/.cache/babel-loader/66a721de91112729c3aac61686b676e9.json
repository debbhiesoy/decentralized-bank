{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar http = require(\"http\");\n\nvar https = require(\"https\");\n\nvar os = require(\"os\");\n\nvar url = require(\"url\");\n\nvar progress_event_1 = require(\"./progress-event\");\n\nvar errors_1 = require(\"./errors\");\n\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\n\nvar xml_http_request_upload_1 = require(\"./xml-http-request-upload\");\n\nvar Cookie = require(\"cookiejar\");\n\nvar XMLHttpRequest =\n/** @class */\nfunction (_super) {\n  __extends(XMLHttpRequest, _super);\n\n  function XMLHttpRequest(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.UNSENT = XMLHttpRequest.UNSENT;\n    _this.OPENED = XMLHttpRequest.OPENED;\n    _this.HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED;\n    _this.LOADING = XMLHttpRequest.LOADING;\n    _this.DONE = XMLHttpRequest.DONE;\n    _this.onreadystatechange = null;\n    _this.readyState = XMLHttpRequest.UNSENT;\n    _this.response = null;\n    _this.responseText = '';\n    _this.responseType = '';\n    _this.status = 0; // TODO: UNSENT?\n\n    _this.statusText = '';\n    _this.timeout = 0;\n    _this.upload = new xml_http_request_upload_1.XMLHttpRequestUpload();\n    _this.responseUrl = '';\n    _this.withCredentials = false;\n    _this._method = null;\n    _this._url = null;\n    _this._sync = false;\n    _this._headers = {};\n    _this._loweredHeaders = {};\n    _this._mimeOverride = null; // TODO: is type right?\n\n    _this._request = null;\n    _this._response = null;\n    _this._responseParts = null;\n    _this._responseHeaders = null;\n    _this._aborting = null; // TODO: type?\n\n    _this._error = null; // TODO: type?\n\n    _this._loadedBytes = 0;\n    _this._totalBytes = 0;\n    _this._lengthComputable = false;\n    _this._restrictedMethods = {\n      CONNECT: true,\n      TRACE: true,\n      TRACK: true\n    };\n    _this._restrictedHeaders = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      connection: true,\n      'content-length': true,\n      cookie: true,\n      cookie2: true,\n      date: true,\n      dnt: true,\n      expect: true,\n      host: true,\n      'keep-alive': true,\n      origin: true,\n      referer: true,\n      te: true,\n      trailer: true,\n      'transfer-encoding': true,\n      upgrade: true,\n      'user-agent': true,\n      via: true\n    };\n    _this._privateHeaders = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    _this._userAgent = \"Mozilla/5.0 (\" + os.type() + \" \" + os.arch() + \") node.js/\" + process.versions.node + \" v8/\" + process.versions.v8;\n    _this._anonymous = options.anon || false;\n    return _this;\n  }\n\n  XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n    if (async === void 0) {\n      async = true;\n    }\n\n    method = method.toUpperCase();\n\n    if (this._restrictedMethods[method]) {\n      throw new XMLHttpRequest.SecurityError(\"HTTP method \" + method + \" is not allowed in XHR\");\n    }\n\n    ;\n\n    var xhrUrl = this._parseUrl(url, user, password);\n\n    if (this.readyState === XMLHttpRequest.HEADERS_RECEIVED || this.readyState === XMLHttpRequest.LOADING) {// TODO(pwnall): terminate abort(), terminate send()\n    }\n\n    this._method = method;\n    this._url = xhrUrl;\n    this._sync = !async;\n    this._headers = {};\n    this._loweredHeaders = {};\n    this._mimeOverride = null;\n\n    this._setReadyState(XMLHttpRequest.OPENED);\n\n    this._request = null;\n    this._response = null;\n    this.status = 0;\n    this.statusText = '';\n    this._responseParts = [];\n    this._responseHeaders = null;\n    this._loadedBytes = 0;\n    this._totalBytes = 0;\n    this._lengthComputable = false;\n  };\n\n  XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n    }\n\n    var loweredName = name.toLowerCase();\n\n    if (this._restrictedHeaders[loweredName] || /^sec-/.test(loweredName) || /^proxy-/.test(loweredName)) {\n      console.warn(\"Refused to set unsafe header \\\"\" + name + \"\\\"\");\n      return;\n    }\n\n    value = value.toString();\n\n    if (this._loweredHeaders[loweredName] != null) {\n      name = this._loweredHeaders[loweredName];\n      this._headers[name] = this._headers[name] + \", \" + value;\n    } else {\n      this._loweredHeaders[loweredName] = name;\n      this._headers[name] = value;\n    }\n  };\n\n  XMLHttpRequest.prototype.send = function (data) {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n    }\n\n    if (this._request) {\n      throw new XMLHttpRequest.InvalidStateError('send() already called');\n    }\n\n    switch (this._url.protocol) {\n      case 'file:':\n        return this._sendFile(data);\n\n      case 'http:':\n      case 'https:':\n        return this._sendHttp(data);\n\n      default:\n        throw new XMLHttpRequest.NetworkError(\"Unsupported protocol \" + this._url.protocol);\n    }\n  };\n\n  XMLHttpRequest.prototype.abort = function () {\n    if (this._request == null) {\n      return;\n    }\n\n    this._request.abort();\n\n    this._setError();\n\n    this._dispatchProgress('abort');\n\n    this._dispatchProgress('loadend');\n  };\n\n  XMLHttpRequest.prototype.getResponseHeader = function (name) {\n    if (this._responseHeaders == null || name == null) {\n      return null;\n    }\n\n    var loweredName = name.toLowerCase();\n    return this._responseHeaders.hasOwnProperty(loweredName) ? this._responseHeaders[name.toLowerCase()] : null;\n  };\n\n  XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n    var _this = this;\n\n    if (this._responseHeaders == null) {\n      return '';\n    }\n\n    return Object.keys(this._responseHeaders).map(function (key) {\n      return key + \": \" + _this._responseHeaders[key];\n    }).join('\\r\\n');\n  };\n\n  XMLHttpRequest.prototype.overrideMimeType = function (mimeType) {\n    if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {\n      throw new XMLHttpRequest.InvalidStateError('overrideMimeType() not allowed in LOADING or DONE');\n    }\n\n    this._mimeOverride = mimeType.toLowerCase();\n  };\n\n  XMLHttpRequest.prototype.nodejsSet = function (options) {\n    this.nodejsHttpAgent = options.httpAgent || this.nodejsHttpAgent;\n    this.nodejsHttpsAgent = options.httpsAgent || this.nodejsHttpsAgent;\n\n    if (options.hasOwnProperty('baseUrl')) {\n      if (options.baseUrl != null) {\n        var parsedUrl = url.parse(options.baseUrl, false, true);\n\n        if (!parsedUrl.protocol) {\n          throw new XMLHttpRequest.SyntaxError(\"baseUrl must be an absolute URL\");\n        }\n      }\n\n      this.nodejsBaseUrl = options.baseUrl;\n    }\n  };\n\n  XMLHttpRequest.nodejsSet = function (options) {\n    XMLHttpRequest.prototype.nodejsSet(options);\n  };\n\n  XMLHttpRequest.prototype._setReadyState = function (readyState) {\n    this.readyState = readyState;\n    this.dispatchEvent(new progress_event_1.ProgressEvent('readystatechange'));\n  };\n\n  XMLHttpRequest.prototype._sendFile = function (data) {\n    // TODO\n    throw new Error('Protocol file: not implemented');\n  };\n\n  XMLHttpRequest.prototype._sendHttp = function (data) {\n    if (this._sync) {\n      throw new Error('Synchronous XHR processing not implemented');\n    }\n\n    if (data && (this._method === 'GET' || this._method === 'HEAD')) {\n      console.warn(\"Discarding entity body for \" + this._method + \" requests\");\n      data = null;\n    } else {\n      data = data || '';\n    }\n\n    this.upload._setData(data);\n\n    this._finalizeHeaders();\n\n    this._sendHxxpRequest();\n  };\n\n  XMLHttpRequest.prototype._sendHxxpRequest = function () {\n    var _this = this;\n\n    if (this.withCredentials) {\n      var cookie = XMLHttpRequest.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname, this._url.pathname, this._url.protocol === 'https:')).toValueString();\n      this._headers.cookie = this._headers.cookie2 = cookie;\n    }\n\n    var _a = this._url.protocol === 'http:' ? [http, this.nodejsHttpAgent] : [https, this.nodejsHttpsAgent],\n        hxxp = _a[0],\n        agent = _a[1];\n\n    var requestMethod = hxxp.request.bind(hxxp);\n    var request = requestMethod({\n      hostname: this._url.hostname,\n      port: +this._url.port,\n      path: this._url.path,\n      auth: this._url.auth,\n      method: this._method,\n      headers: this._headers,\n      agent: agent\n    });\n    this._request = request;\n\n    if (this.timeout) {\n      request.setTimeout(this.timeout, function () {\n        return _this._onHttpTimeout(request);\n      });\n    }\n\n    request.on('response', function (response) {\n      return _this._onHttpResponse(request, response);\n    });\n    request.on('error', function (error) {\n      return _this._onHttpRequestError(request, error);\n    });\n\n    this.upload._startUpload(request);\n\n    if (this._request === request) {\n      this._dispatchProgress('loadstart');\n    }\n  };\n\n  XMLHttpRequest.prototype._finalizeHeaders = function () {\n    this._headers = __assign({}, this._headers, {\n      Connection: 'keep-alive',\n      Host: this._url.host,\n      'User-Agent': this._userAgent\n    }, this._anonymous ? {\n      Referer: 'about:blank'\n    } : {});\n\n    this.upload._finalizeHeaders(this._headers, this._loweredHeaders);\n  };\n\n  XMLHttpRequest.prototype._onHttpResponse = function (request, response) {\n    var _this = this;\n\n    if (this._request !== request) {\n      return;\n    }\n\n    if (this.withCredentials && (response.headers['set-cookie'] || response.headers['set-cookie2'])) {\n      XMLHttpRequest.cookieJar.setCookies(response.headers['set-cookie'] || response.headers['set-cookie2']);\n    }\n\n    if ([301, 302, 303, 307, 308].indexOf(response.statusCode) >= 0) {\n      this._url = this._parseUrl(response.headers.location);\n      this._method = 'GET';\n\n      if (this._loweredHeaders['content-type']) {\n        delete this._headers[this._loweredHeaders['content-type']];\n        delete this._loweredHeaders['content-type'];\n      }\n\n      if (this._headers['Content-Type'] != null) {\n        delete this._headers['Content-Type'];\n      }\n\n      delete this._headers['Content-Length'];\n\n      this.upload._reset();\n\n      this._finalizeHeaders();\n\n      this._sendHxxpRequest();\n\n      return;\n    }\n\n    this._response = response;\n\n    this._response.on('data', function (data) {\n      return _this._onHttpResponseData(response, data);\n    });\n\n    this._response.on('end', function () {\n      return _this._onHttpResponseEnd(response);\n    });\n\n    this._response.on('close', function () {\n      return _this._onHttpResponseClose(response);\n    });\n\n    this.responseUrl = this._url.href.split('#')[0];\n    this.status = response.statusCode;\n    this.statusText = http.STATUS_CODES[this.status];\n\n    this._parseResponseHeaders(response);\n\n    var lengthString = this._responseHeaders['content-length'] || '';\n    this._totalBytes = +lengthString;\n    this._lengthComputable = !!lengthString;\n\n    this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);\n  };\n\n  XMLHttpRequest.prototype._onHttpResponseData = function (response, data) {\n    if (this._response !== response) {\n      return;\n    }\n\n    this._responseParts.push(new Buffer(data));\n\n    this._loadedBytes += data.length;\n\n    if (this.readyState !== XMLHttpRequest.LOADING) {\n      this._setReadyState(XMLHttpRequest.LOADING);\n    }\n\n    this._dispatchProgress('progress');\n  };\n\n  XMLHttpRequest.prototype._onHttpResponseEnd = function (response) {\n    if (this._response !== response) {\n      return;\n    }\n\n    this._parseResponse();\n\n    this._request = null;\n    this._response = null;\n\n    this._setReadyState(XMLHttpRequest.DONE);\n\n    this._dispatchProgress('load');\n\n    this._dispatchProgress('loadend');\n  };\n\n  XMLHttpRequest.prototype._onHttpResponseClose = function (response) {\n    if (this._response !== response) {\n      return;\n    }\n\n    var request = this._request;\n\n    this._setError();\n\n    request.abort();\n\n    this._setReadyState(XMLHttpRequest.DONE);\n\n    this._dispatchProgress('error');\n\n    this._dispatchProgress('loadend');\n  };\n\n  XMLHttpRequest.prototype._onHttpTimeout = function (request) {\n    if (this._request !== request) {\n      return;\n    }\n\n    this._setError();\n\n    request.abort();\n\n    this._setReadyState(XMLHttpRequest.DONE);\n\n    this._dispatchProgress('timeout');\n\n    this._dispatchProgress('loadend');\n  };\n\n  XMLHttpRequest.prototype._onHttpRequestError = function (request, error) {\n    if (this._request !== request) {\n      return;\n    }\n\n    this._setError();\n\n    request.abort();\n\n    this._setReadyState(XMLHttpRequest.DONE);\n\n    this._dispatchProgress('error');\n\n    this._dispatchProgress('loadend');\n  };\n\n  XMLHttpRequest.prototype._dispatchProgress = function (eventType) {\n    var event = new XMLHttpRequest.ProgressEvent(eventType);\n    event.lengthComputable = this._lengthComputable;\n    event.loaded = this._loadedBytes;\n    event.total = this._totalBytes;\n    this.dispatchEvent(event);\n  };\n\n  XMLHttpRequest.prototype._setError = function () {\n    this._request = null;\n    this._response = null;\n    this._responseHeaders = null;\n    this._responseParts = null;\n  };\n\n  XMLHttpRequest.prototype._parseUrl = function (urlString, user, password) {\n    var absoluteUrl = this.nodejsBaseUrl == null ? urlString : url.resolve(this.nodejsBaseUrl, urlString);\n    var xhrUrl = url.parse(absoluteUrl, false, true);\n    xhrUrl.hash = null;\n\n    var _a = (xhrUrl.auth || '').split(':'),\n        xhrUser = _a[0],\n        xhrPassword = _a[1];\n\n    if (xhrUser || xhrPassword || user || password) {\n      xhrUrl.auth = (user || xhrUser || '') + \":\" + (password || xhrPassword || '');\n    }\n\n    return xhrUrl;\n  };\n\n  XMLHttpRequest.prototype._parseResponseHeaders = function (response) {\n    this._responseHeaders = {};\n\n    for (var name_1 in response.headers) {\n      var loweredName = name_1.toLowerCase();\n\n      if (this._privateHeaders[loweredName]) {\n        continue;\n      }\n\n      this._responseHeaders[loweredName] = response.headers[name_1];\n    }\n\n    if (this._mimeOverride != null) {\n      this._responseHeaders['content-type'] = this._mimeOverride;\n    }\n  };\n\n  XMLHttpRequest.prototype._parseResponse = function () {\n    var buffer = Buffer.concat(this._responseParts);\n    this._responseParts = null;\n\n    switch (this.responseType) {\n      case 'json':\n        this.responseText = null;\n\n        try {\n          this.response = JSON.parse(buffer.toString('utf-8'));\n        } catch (_a) {\n          this.response = null;\n        }\n\n        return;\n\n      case 'buffer':\n        this.responseText = null;\n        this.response = buffer;\n        return;\n\n      case 'arraybuffer':\n        this.responseText = null;\n        var arrayBuffer = new ArrayBuffer(buffer.length);\n        var view = new Uint8Array(arrayBuffer);\n\n        for (var i = 0; i < buffer.length; i++) {\n          view[i] = buffer[i];\n        }\n\n        this.response = arrayBuffer;\n        return;\n\n      case 'text':\n      default:\n        try {\n          this.responseText = buffer.toString(this._parseResponseEncoding());\n        } catch (_b) {\n          this.responseText = buffer.toString('binary');\n        }\n\n        this.response = this.responseText;\n    }\n  };\n\n  XMLHttpRequest.prototype._parseResponseEncoding = function () {\n    return /;\\s*charset=(.*)$/.exec(this._responseHeaders['content-type'] || '')[1] || 'utf-8';\n  };\n\n  XMLHttpRequest.ProgressEvent = progress_event_1.ProgressEvent;\n  XMLHttpRequest.InvalidStateError = errors_1.InvalidStateError;\n  XMLHttpRequest.NetworkError = errors_1.NetworkError;\n  XMLHttpRequest.SecurityError = errors_1.SecurityError;\n  XMLHttpRequest.SyntaxError = errors_1.SyntaxError;\n  XMLHttpRequest.XMLHttpRequestUpload = xml_http_request_upload_1.XMLHttpRequestUpload;\n  XMLHttpRequest.UNSENT = 0;\n  XMLHttpRequest.OPENED = 1;\n  XMLHttpRequest.HEADERS_RECEIVED = 2;\n  XMLHttpRequest.LOADING = 3;\n  XMLHttpRequest.DONE = 4;\n  XMLHttpRequest.cookieJar = Cookie.CookieJar();\n  return XMLHttpRequest;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);\n\nexports.XMLHttpRequest = XMLHttpRequest;\nXMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;\nXMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;\nXMLHttpRequest.prototype.nodejsBaseUrl = null;","map":{"version":3,"mappings":"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","names":["__extends","options","_super","_this","XMLHttpRequest","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","xml_http_request_upload_1","CONNECT","TRACE","TRACK","connection","cookie","cookie2","date","dnt","expect","host","origin","referer","te","trailer","upgrade","via","os","type","arch","process","versions","node","v8","_anonymous","anon","method","url","async","user","password","toUpperCase","_restrictedMethods","SecurityError","xhrUrl","_parseUrl","readyState","_method","_url","_sync","_headers","_loweredHeaders","_mimeOverride","_setReadyState","_request","_response","status","statusText","_responseParts","_responseHeaders","_loadedBytes","_totalBytes","_lengthComputable","name","value","InvalidStateError","loweredName","toLowerCase","_restrictedHeaders","test","console","warn","toString","data","protocol","_sendFile","_sendHttp","NetworkError","abort","_setError","_dispatchProgress","hasOwnProperty","Object","keys","map","key","join","mimeType","nodejsHttpAgent","httpAgent","nodejsHttpsAgent","httpsAgent","baseUrl","parsedUrl","parse","SyntaxError","nodejsBaseUrl","prototype","nodejsSet","dispatchEvent","progress_event_1","Error","upload","_setData","_finalizeHeaders","_sendHxxpRequest","withCredentials","cookieJar","getCookies","Cookie","CookieAccessInfo","hostname","pathname","toValueString","hxxp","agent","requestMethod","request","bind","port","path","auth","headers","timeout","setTimeout","_onHttpTimeout","on","_onHttpResponse","response","_onHttpRequestError","error","_startUpload","__assign","Connection","Host","_userAgent","Referer","setCookies","indexOf","statusCode","location","_reset","_onHttpResponseData","_onHttpResponseEnd","_onHttpResponseClose","responseUrl","href","split","http","STATUS_CODES","_parseResponseHeaders","lengthString","push","Buffer","length","_parseResponse","eventType","event","ProgressEvent","lengthComputable","loaded","total","urlString","absoluteUrl","resolve","hash","xhrUser","xhrPassword","name_1","_privateHeaders","buffer","concat","responseType","responseText","JSON","_a","arrayBuffer","ArrayBuffer","view","Uint8Array","i","_parseResponseEncoding","_b","exec","errors_1","CookieJar","xml_http_request_event_target_1","exports","globalAgent","https"],"sourceRoot":"","sources":["../xml-http-request.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}